<?xml version="1.0"?>
<thlogic>
    <attr sel="#qf_box" th:object="${products}">
        <!--/*기능1: 해당 이름으로 검색 및 조건부 class 추가*/-->
        <attr sel=".quick_filter">
            <attr sel=".filter_box/a[1]" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand=${param.brand},category=${param.category},collection='luxury',gender=${param.gender}
            ,keyword=${param.keyword})}" th:classappend="${param.collction} != null?(${param.collection.toString}=='luxury' ? 'clicked':''):''"/>
            <attr sel=".filter_box/a[2]" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand=${param.brand},category='신발',collection=${param.collection},gender=${param.gender}
            ,keyword=${param.keyword})}" th:classappend="${param.category} != null ?(${param.category.toString}=='신발'? 'clicked':''):''"/>
            <attr sel=".filter_box/a[3]" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand=${param.brand},category='의류',collection=${param.collection},gender=${param.gender}
            ,keyword=${param.keyword})}" th:classappend="${param.category} != null ?(${param.category.toString}=='의류'? 'clicked':''):''"/>
            <attr sel=".filter_box/a[4]" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand=${param.brand},category='패션잡화',collection=${param.collection},gender=${param.gender}
            ,keyword=${param.keyword})}" th:classappend="${param.category} != null ?(${param.category.toString}=='패션잡화'? 'clicked':''):''"/>
            <attr sel=".filter_box/a[5]" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand=${param.brand},category='라이프',collection=${param.collection},gender=${param.gender}
            ,keyword=${param.keyword})}" th:classappend="${param.category} != null ?(${param.category.toString}=='라이프'? 'clicked':''):''"/>
            <attr sel=".filter_box/a[6]" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand=${param.brand},category='태크',collection=${param.collection},gender=${param.gender}
            ,keyword=${param.keyword})}" th:classappend="${param.category} != null ?(${param.category.toString}=='테크'? 'clicked':''):''"/>
        </attr>
        <!--/*기능2: 사진 클릭시 해당 키워드로 검색? */-->
        <attr sel=".brand_list">
            <attr sel="li[0]/a" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},brand=${param.brand},
            category=${param.category},collection=${param.collection},gender=${param.gender},keyword='wallet')}"/>
            <attr sel="li[1]/a" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},brand=${param.brand},
            category=${param.category},collection=${param.collection},gender=${param.gender},keyword='ugg')}"/>
            <attr sel="li[2]/a" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand=${param.brand},category=${param.category},collection=${param.collection},gender=${param.gender},keyword='jewelry')}"/>
            <attr sel="li[3]/a" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand=${param.brand},category=${param.category},collection=${param.collection},gender=${param.gender},keyword='Nuptse')}"/>
            <attr sel="li[4]/a" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand=${param.brand},category=${param.category},collection=${param.collection},gender=${param.gender},keyword='Vivienne Westwood')}"/>
            <attr sel="li[5]/a" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand='Asics',category=${param.category},collection=${param.collection},gender=${param.gender},keyword=${param.keyword})}"/>
            <attr sel="li[6]/a" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand='Apple',category=${param.category},collection=${param.collection},gender=${param.gender},keyword=${param.keyword})}"/>
            <attr sel="li[7]/a" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand=${param.brand},category=${param.category},collection=${param.collection},gender=${param.gender},keyword='scott')}"/>
            <attr sel="li[8]/a" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand='chanel',category=${param.category},collection=${param.collection},gender=${param.gender},keyword=${param.keyword})}"/>
            <attr sel="li[9]/a" th:href="@{/searchs(page=${products.number},sort=${param.sort},size=${param.size},
            brand='dyson',category=${param.category},collection=${param.collection},gender=${param.gender},keyword=${param.keyword})}"/>
        </attr>
        <!--/* 기능3: 체크박스 */-->
        <attr sel="#category_list" th:classappend="${param.category} != null ?(${param.category.toString}==''? '':'selected'):''">
            <attr sel="#category_title" th:text="${param.category} != null ?(${param.category.toString}==''? '모든 카테고리' : ${param.category.toString}):'모든 카테고리'"/>
            <attr sel="#category_btn" th:src="${param.category} != null ?(${param.category.toString}==''? '@{/img/shopimg/side_btn1.png}' : '@{/img/shopimg/side_btn0.png}'):''"/>
            <attr sel="#drop-category" th:style="${param.category} != null ?(${param.category.toString}==''? 'display:none':'display:block'):''">
                <attr sel="#category_filter">
                    <attr sel="li[0]/.check" th:checked="${param.category} != null ?(${param.category.toString}=='신발'? 'true' : 'false'):'false'"/>
                    <attr sel="li[1]/.check" th:checked="${param.category} != null ?(${param.category.toString}=='의류'? 'true' : 'false'):'false'"/>
                    <attr sel="li[2]/.check" th:checked="${param.category} != null ?(${param.category.toString}=='패션잡화'? 'true' : 'false'):'false'"/>
                    <attr sel="li[3]/.check" th:checked="${param.category} != null ?(${param.category.toString}=='라이프'? 'true' : 'false'):'false'"/>
                    <attr sel="li[4]/.check" th:checked="${param.category} != null ?(${param.category.toString}=='테크'? 'true' : 'false'):'false'"/>
                </attr>
            </attr>
        </attr>
        <!--/*기능4: 오름차순 내림차순*/-->
        <attr sel=".sorting_title" th:text="${products.sort.getOrderFor('idx')}!=null ? '발매일순':
                                            (${products.sort.getOrderFor('name')}!=null?'이름순(인기순으로 바꿀예정)':
                                            (${products.sort.getOrderFor('firstPrice')}!=null?
                                                        (${products.sort.getOrderFor('firstPrice').direction.name} == 'DESC'?'발매가 높은순':'발매가 낮은순'):'발매가 낮은순'))"/>
        <attr sel="#sort_by_wish_desc" th:href="@{/searchs(page=${products.number},sort='name',size=${param.size},brand=${param.brand},
            category=${param.category},collection=${param.collection},gender=${param.gender},keyword=${param.keyword})}"/>
        <attr sel="#sort_by_price_asc" th:href="@{/searchs(page=${products.number},sort='firstPrice,asc',size=${param.size},brand=${param.brand},
            category=${param.category},collection=${param.collection},gender=${param.gender},keyword=${param.keyword})}"/>
        <attr sel="#sort_by_price_desc" th:href="@{/searchs(page=${products.number},sort='firstPrice,desc',size=${param.size},brand=${param.brand},
            category=${param.category},collection=${param.collection},gender=${param.gender},keyword=${param.keyword})}"/>
        <attr sel="#sort_by_idx_desc" th:href="@{/searchs(page=${products.number},sort='idx',size=${param.size},brand=${param.brand},
            category=${param.category},collection=${param.collection},gender=${param.gender},keyword=${param.keyword})}"/>
        <!--/*기능5: 제품 리스트*/-->
        <attr sel=".search_result_list" th:remove="all-but-first">
            <attr sel=".sec_img_box" th:each= "product, i : ${products}">
                <attr sel=".item_inner" th:href="@{'/product/' + ${product.idx}}">
                    <attr sel=".product_img/img" th:src="${product.img}"/>
                    <attr sel=".product_info_area" >
                        <attr sel=".product_info_brand" th:text="${product.brand}"/>
                        <attr sel=".product_info_product_name/p[0]" th:text="${product.name}"/>
                        <attr sel=".product_info_product_name/p[1]" th:text="${product.nameKor}"/>
                    </attr>
                    <attr sel=".amount" th:text="${prices[i.index]}"/>
                </attr>
            </attr>
        </attr>
        <attr sel=".pagination_box">
            <attr sel=".prev_btn_box/a" th:href="@{/searchs(page=${products.number - 1},sort=${param.sort},size=${param.size},brand=${param.brand},
            category=${param.category},collection=${param.collection},gender=${param.gender},keyword=${param.keyword})}"
            th:style="(${products.number} <=0 ? 'display:none':'display:block')"/>
            <attr sel=".page_bind" th:each="pageNumber : ${barNumbers}">
                <attr sel="a" th:text="${pageNumber + 1}"
                th:href="@{/searchs(page=${pageNumber},sort=${param.sort},size=${param.size},brand=${param.brand},
            category=${param.category},collection=${param.collection},gender=${param.gender},keyword=${param.keyword})}"
                th:class="'btn_page'+(${pageNumber}==${products.number}? ' active':'')"/>
            </attr>
            <attr sel=".next_btn_box/a" th:href="@{/searchs(page=${products.number + 1},sort=${param.sort},size=${param.size},brand=${param.brand},
            category=${param.category},collection=${param.collection},gender=${param.gender},keyword=${param.keyword})}"
            th:style="(${products.number} >= ${products.totalPages -1}  ? 'display:none':'display:block')"/>
        </attr>
    </attr>
</thlogic>